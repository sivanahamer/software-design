<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-patterns/comportamiento/Memento/Readme">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Patrón Memento o Patrón Token | Diseño de Software</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sivanahamer.github.io/software-design/img/logo.jpg"><meta data-rh="true" name="twitter:image" content="https://sivanahamer.github.io/software-design/img/logo.jpg"><meta data-rh="true" property="og:url" content="https://sivanahamer.github.io/software-design/docs/patterns/comportamiento/Memento/"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Patrón Memento o Patrón Token | Diseño de Software"><meta data-rh="true" name="description" content="Estudiantes:"><meta data-rh="true" property="og:description" content="Estudiantes:"><link data-rh="true" rel="icon" href="/software-design/img/logo.ico"><link data-rh="true" rel="canonical" href="https://sivanahamer.github.io/software-design/docs/patterns/comportamiento/Memento/"><link data-rh="true" rel="alternate" href="https://sivanahamer.github.io/software-design/docs/patterns/comportamiento/Memento/" hreflang="es"><link data-rh="true" rel="alternate" href="https://sivanahamer.github.io/software-design/docs/patterns/comportamiento/Memento/" hreflang="x-default"><link rel="stylesheet" href="/software-design/assets/css/styles.04b24401.css">
<link rel="preload" href="/software-design/assets/js/runtime~main.8d95c78f.js" as="script">
<link rel="preload" href="/software-design/assets/js/main.187daf73.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/software-design/"><div class="navbar__logo"><img src="/software-design/img/logo.png" alt="Software design logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/software-design/img/logo.png" alt="Software design logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Diseño de software</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/software-design/docs/">Clases</a></div><div class="navbar__items navbar__items--right"><a href="https://mv1.mediacionvirtual.ucr.ac.cr/course/view.php?id=29989" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Mediación<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/sivanahamer/software-design" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-design/docs/">Clases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-design/docs/intro/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-design/docs/design/">Diseño de software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-design/docs/uml/">Modelado de software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/software-design/docs/repos/">Repositorios de software</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/software-design/docs/category/patrónes-de-software">Patrónes de software</a><button aria-label="Toggle the collapsible sidebar category &#x27;Patrónes de software&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/">Introducción</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/software-design/docs/category/creacionales">Creacionales</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creacionales&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/software-design/docs/category/estructurales">Estructurales</a><button aria-label="Toggle the collapsible sidebar category &#x27;Estructurales&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/software-design/docs/category/comportamiento">Comportamiento</a><button aria-label="Toggle the collapsible sidebar category &#x27;Comportamiento&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/comportamiento/">Introducción</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/software-design/docs/patterns/comportamiento/Memento/">Patrón Memento o Patrón Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/comportamiento/ObserverPattern/">**Investigación del patrón de diseño Observer**</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/comportamiento/Visitor/">Patrón Visitor</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/software-design/docs/patterns/comportamiento/command/">Patrón Command</a><button aria-label="Toggle the collapsible sidebar category &#x27;Patrón Command&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/comportamiento/iterator/">ITERATOR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/software-design/docs/patterns/comportamiento/mediator/">Mediator Pattern</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/software-design/docs/patterns/comportamiento/template-method/">Template Method</a><button aria-label="Toggle the collapsible sidebar category &#x27;Template Method&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/software-design/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/software-design/docs/category/patrónes-de-software"><span itemprop="name">Patrónes de software</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/software-design/docs/category/comportamiento"><span itemprop="name">Comportamiento</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Patrón Memento o Patrón Token</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Patrón Memento o Patrón Token</h1><p><strong>Estudiantes</strong>:</p><ul><li>Julio Rodroguez Salguera C16717</li><li>Geancarlo Rivera Hernández C06516</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tabla-de-contenidos">Tabla de Contenidos<a href="#tabla-de-contenidos" class="hash-link" aria-label="Enlace directo al Tabla de Contenidos" title="Enlace directo al Tabla de Contenidos">​</a></h2><ul><li><a href="#patr%C3%B3n-memento-o-patr%C3%B3n-token">Patrón Memento o Patrón Token</a><ul><li><a href="#tabla-de-contenidos">Tabla de Contenidos</a></li><li><a href="#problema">Problema</a></li><li><a href="#soluci%C3%B3n">Solución</a></li><li><a href="#ejemplo-de-c%C3%B3digo">Ejemplo de código</a></li><li><a href="#consecuencias">Consecuencias</a></li><li><a href="#implementaci%C3%B3n">Implementación</a></li><li><a href="#relaci%C3%B3n-con-otros-patrones">Relación con otros patrones</a></li><li><a href="#relaci%C3%B3n-con-principios-de-dise%C3%B1o">Relación con principios de diseño</a></li><li><a href="#referencias">Referencias</a></li><li><a href="#anexo">Anexo</a></li></ul></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="problema">Problema<a href="#problema" class="hash-link" aria-label="Enlace directo al Problema" title="Enlace directo al Problema">​</a></h2><p>El patrón Memento es muy útil cuando se necesita preservar el estado de un objeto, componente o sistema sin comprometer su encapsulación. Es decir, el patrón Memento se utiliza para restaurar un objeto a un estado anterior, lo que resulta muy beneficioso para corregir errores o implementar un historial de versiones. Una característica importante de este patrón es que protege la encapsulación de los objetos, ya que la interfaz para modificar el estado guardado solo puede ser accedida por la clase que lo creó, siendo inaccesible y opaca para las demás clases.</p><p>Este patrón es especialmente útil cuando se necesita recordar y restaurar el estado de un objeto en un momento específico. Imaginemos que estamos trabajando en una aplicación y deseamos implementar la función &quot;deshacer&quot;. En lugar de guardar múltiples copias del estado actual, el patrón Memento permite almacenar solo ciertos estados de un objeto &quot;Originator&quot; en estructuras llamadas &quot;Memento&quot;.</p><p>Un ejemplo interesante que ilustra el uso del patrón Memento se encuentra en la plataforma de Correo Institucional de la Universidad de Costa Rica. Al redactar un correo, existe la posibilidad de volver al estado previo al presionar la combinación de teclas &quot;Ctrl + z&quot;. Por ejemplo, es posible regresar del texto &quot;Buenas tardes profesor!&quot; (<strong>Figura 1</strong>) al texto previo &quot;Buenas tardes&quot; (<strong>Figura 2</strong>), que fue el último estado almacenado gracias al patrón Memento.</p><p><img loading="lazy" alt="estadoActual" src="/software-design/assets/images/estadoActualCorreo-6be81e1c25a143471c85b0f1157ff2fa.svg" width="1150" height="686" class="img_ev3q"></p><p>FIGURA 1: Estado actual del correo (Captura del Corre Universidad de Costa Rica)</p><p><img loading="lazy" alt="estadoAnterior" src="/software-design/assets/images/estadoAnteriorCorreo-6585369d67e6de70fe14e050b257ec66.svg" width="1151" height="686" class="img_ev3q"></p><p>FIGURA 2: Estado anterior del correo</p><p><img loading="lazy" alt="estadoInicial" src="/software-design/assets/images/estadoInicialCorreo-ed8d5d511f6e7ebd59f969dc4ade0048.svg" width="1151" height="686" class="img_ev3q"></p><p>FIGURA 3: Estado inicial del correo</p><p>Además, en el sistema de Correo Institucional, no solo es posible regresar al estado anterior al actual, sino que también se tiene la opción de regresar al estado inicial del correo si se continúa utilizando la acción &quot;Ctrl + z&quot; (<strong>Figura 3</strong>) de manera consecutiva. Esto permite retroceder y restaurar el texto al punto en el que se comenzó a redactar el correo.</p><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="solución">Solución<a href="#solución" class="hash-link" aria-label="Enlace directo al Solución" title="Enlace directo al Solución">​</a></h2><p>El patrón Memento utiliza y se basa en tres componentes principales para definir e implementar su estructura, que pueden ser observados en el diagrama UML de la <strong>Figura 4</strong>:</p><p><img loading="lazy" alt="umlMemento" src="/software-design/assets/images/DiagramaUMLMemento-9f374f2e3180991424c75d361fbb9526.svg" width="501" height="287" class="img_ev3q"></p><p>FIGURA 4: Diagrama UML del patrón de comportamiento Memento</p><p><strong>Memento</strong>
La clase Memento es responsable de almacenar la información del estado en un momento específico del componente <em>Originator</em>, conocido comúnmente como <em>snapshot</em>. Contiene toda la información necesaria para restaurar versiones anteriores de manera precisa. Estos objetos Memento se guardan en una estructura de datos en el componente <em>Caretaker</em>. Es importante destacar que el acceso a los datos del Memento se limitan únicamente al componente <em>Originator</em>, ya que éste utiliza los datos para recuperar estados anteriores (Haythornwaite, 2002, p. 285).</p><p><strong>Originator</strong>
El Originator es la clase de la cual se toma el <em>snapshot</em> que se almacena en los objetos <em>Memento</em>. Es el componente que contiene el estado actual del sistema y utiliza objetos <em>Memento</em> para recuperar estados anteriores (Haythornwaite, 2002, p. 165). Esta clase interactúa directamente con los objetos <em>Memento</em>, ya que necesita leer su contenido para restaurar sus datos.</p><p><strong>Caretaker</strong>
El Caretaker es el componente encargado de almacenar los <em>snapshots</em>, es decir, los objetos <em>Memento</em>. También es responsable de implementar las interfaces que permiten al cliente indicar a la clase <em>Originator</em> guardar el estado actual o volver a un estado anterior específico. Este componente no interactúa directamente con los objetos Memento ni puede acceder a su información, simplemente los almacena (Haythornwaite, 2002, p. 165).</p><p><strong>Interacción entre los componentes</strong>
En el patrón Memento, los componentes interactúan de la siguiente manera: el cliente por medio de la interfaz Caretaker solicita al Originator guardar su estado actual, por lo que el Originator crea un nuevo objeto Memento y se lo devuelve al Caretaker para que lo almacene. Cuando el cliente solicita volver a un estado anterior, el Caretaker proporciona al Originator el estado deseado que está almacenado en el Memento. El Originator toma el <em>snapshot</em> del estado y lo aplica, volviendo al estado previo. Esto permite ocultar la implementación y los datos del Memento y del Originator a clases externas.</p><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ejemplo-de-código">Ejemplo de código<a href="#ejemplo-de-código" class="hash-link" aria-label="Enlace directo al Ejemplo de código" title="Enlace directo al Ejemplo de código">​</a></h2><p>Si desea comprender con mayor profundad el funcionamiento del patrón Memento y cómo implementarlo en un sistema, puede observar el código de ejemplo que se encuentra en la carpeta &quot;src&quot;, la cuál contiene un ejemplo de guardado de estados del Correo Institucional de la Universidad de Costa Rica utilizando el patrón Memento.
Puede visitar el main del este código en este <a target="_blank" href="/software-design/assets/files/Main-6f12002e58d0137d49801af4f28b06b4.java">link</a>.</p><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consecuencias">Consecuencias<a href="#consecuencias" class="hash-link" aria-label="Enlace directo al Consecuencias" title="Enlace directo al Consecuencias">​</a></h2><p>Según lo expuesto por Haythornwaite (2002), el patrón Memento conlleva las siguientes consecuencias:</p><ul><li><p><strong>Preservación de la encapsulación:</strong> El uso de la clase Memento garantiza que solo el Originator tenga acceso a la información que debe manejar, al mismo tiempo que se almacena fuera de él. Esto protege a otros objetos de interactuar con la complejidad interna del Originator y mantiene los límites de la encapsulación.</p></li><li><p><strong>Simplificación del Originator:</strong> En comparación con otros diseños que también preservan la encapsulación, el patrón Memento simplifica al Originator. En lugar de que el Originator tenga que mantener las versiones del estado interno solicitadas por los clientes, permite que los clientes administren el estado que necesitan por medio del Caretaker. Esto evita la carga de almacenamiento y gestión en el Originator y elimina la necesidad de que los clientes notifiquen al Originator cuando han terminado.</p></li><li><p><strong>Posibles costos asociados con el uso de Mementos:</strong> El uso de Mementos puede generar una sobrecarga considerable en ciertos casos. Por ejemplo, si el Originator necesita copiar grandes cantidades de información para almacenar en el Memento, o si los clientes crean y devuelven Mementos con mucha frecuencia al Originator. Por lo tanto, en situaciones donde la encapsulación y la restauración del estado del Originator representan un costo significativo, el patrón Memento puede no ser apropiado. Es importante considerar la escalabilidad y los costos asociados durante la implementación.</p></li><li><p><strong>Definición de interfaces:</strong> En algunos lenguajes de programación, puede resultar complicado garantizar que solo el Originator pueda acceder al estado del Memento. Esto requiere establecer interfaces precisas y rigurosas para manejar adecuadamente esta situación, lo que puede aumentar la complejidad del patrón.</p></li><li><p><strong>Costos ocultos en la gestión de Mementos:</strong> El Caretaker es responsable de eliminar los Mementos que maneja, pero no sabe cuánto estado contiene cada Memento. Dado que el estado representa la información relevante necesaria para restaurar el estado de un objeto a un punto anterior en el tiempo, un Caretaker aparentemente ligero puede generar costos significativos de almacenamiento al respaldar los Mementos. Es fundamental tener en cuenta este aspecto al gestionar los Mementos.</p></li></ul><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementación">Implementación<a href="#implementación" class="hash-link" aria-label="Enlace directo al Implementación" title="Enlace directo al Implementación">​</a></h2><p>Según Haythornwaite (2002), al implementar el patrón Memento, se deben tener en cuenta los siguientes aspectos principales:</p><ul><li><p><strong>Soporte de lenguaje:</strong> Los Mementos tienen dos interfaces: una amplia para los Originators y una estrecha para otros objetos. Idealmente, el lenguaje de implementación debería permitir dos niveles de protección estática. Algunos lenguajes pueden lograr esto utilizando funciones &quot;friend&quot;, aunque en otros casos puede resultar más rígido. La elección del lenguaje de programación puede ser un aspecto importante a considerar debido a los niveles de protección necesarios en las interfaces de los Mementos.</p></li><li><p><strong>Cambios incrementales:</strong> Cuando se utilizan Mementos en una secuencia predecible por el Originator, es posible almacenar solo los cambios incrementales en el estado interno del objeto Originator. Por ejemplo, en una lista de historial de comandos reversibles, los Mementos permiten restaurar los comandos a su estado exacto cuando se deshacen. En lugar de almacenar el estado completo de cada objeto afectado, los Mementos solo registran los cambios realizados por los comandos. Al permitir que los Mementos guarden solo los cambios incrementales en lugar del estado completo de cada objeto afectado, se puede reducir la cantidad de información almacenada y optimizar el uso de memoria. Esto es especialmente relevante cuando el estado del objeto es grande o cuando se manejan secuencias de cambios en el tiempo, como en el ejemplo mencionado de una lista de historial de comandos. Además, esta capacidad de almacenar cambios incrementales también puede tener un impacto positivo en el rendimiento al deshacer o rehacer acciones. Al acceder solo a los cambios necesarios en lugar de reconstruir todo el estado, se pueden lograr tiempos de respuesta más rápidos y una experiencia de usuario más fluida.</p></li><li><p><strong>Definir adecuadamente las responsabilidades del Caretaker:</strong> Es importante establecer claramente las responsabilidades del Caretaker en cuanto a la gestión y almacenamiento de los Mementos. El Caretaker es el encargado de eliminar los Mementos cuando ya no son necesarios, pero debe tener en cuenta que no conoce la cantidad de estado que contiene cada Memento. Esto implica que el Caretaker puede generar costos de almacenamiento significativos al respaldar los Mementos. Por lo tanto, es esencial definir adecuadamente las responsabilidades del Caretaker para asegurar una gestión eficiente de los Mementos.</p></li><li><p><strong>Considerar granularidad para almacenar cambios incrementales:</strong> Al almacenar cambios incrementales en lugar del estado completo del objeto afectado, se debe considerar la granularidad de los cambios. Es importante determinar qué cambios son relevantes y necesarios de almacenar en los Mementos para asegurar una restauración adecuada del estado. Una granularidad inadecuada puede afectar negativamente la funcionalidad del patrón.</p></li><li><p><strong>Considerar el impacto y rendimiento al guardar estados de objetos grandes o complejos:</strong> Cuando se trabajan con objetos grandes o complejos, guardar y restaurar el estado puede tener un impacto significativo en el rendimiento. Es importante evaluar cuidadosamente el costo asociado con el almacenamiento y la restauración de estados en estas situaciones. En algunos casos, puede ser más eficiente almacenar solo los cambios incrementales, utilizar técnicas de optimización específicas o simplemente evitar el uso del patrón.</p></li><li><p><strong>Combinar con otros patrones:</strong> El patrón Memento se puede combinar con otros patrones de diseño, como el Command o el Observer, para ofrecer una funcionalidad más completa y flexible. Estas combinaciones pueden mejorar la modularidad, la separación de preocupaciones y la capacidad de extensión del sistema. Al considerar la implementación del patrón Memento, es recomendable explorar cómo se puede integrar con otros patrones relevantes para obtener mejores resultados en el diseño global del sistema.</p></li></ul><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relación-con-otros-patrones">Relación con otros patrones<a href="#relación-con-otros-patrones" class="hash-link" aria-label="Enlace directo al Relación con otros patrones" title="Enlace directo al Relación con otros patrones">​</a></h2><p>El patrón Memento se relaciona con otros patrones de diseño debido a su naturaleza y funcionalidad:</p><ul><li><p><strong>Command:</strong> El patrón Command y el patrón Memento se complementan entre sí. Mientras que el patrón Memento se utiliza para capturar y restaurar el estado de un objeto, el patrón Command se utiliza para encapsular una solicitud como un objeto, permitiendo así deshacer y rehacer acciones. En conjunto, estos patrones pueden proporcionar una forma poderosa de implementar funcionalidades como deshacer y rehacer en una aplicación.</p></li><li><p><strong>Iterator:</strong> El patrón Memento y el patrón Iterator pueden combinarse para facilitar la navegación y el acceso a los elementos de una estructura de datos. El patrón Memento se puede utilizar para almacenar snapshots del estado de una estructura de datos en diferentes puntos, mientras que el patrón Iterator proporciona un mecanismo para recorrer y acceder a esos elementos de manera secuencial. Esto puede mejorar la manipulación y gestión de estructuras de datos complejas.</p></li><li><p><strong>Editor:</strong> Estos patrones se relacionan en el contexto de la edición y gestión de documentos. El patrón Memento captura y almacenar el estado de un documento en diferentes momentos, mientras que el patrón Editor proporciona interfaces de edición y coordina las acciones relacionadas con la manipulación del documento. De esta manera ambos patrones brindan una forma eficiente de gestionar la edición y el historial de cambios en un editor de documentos.</p></li><li><p><strong>State:</strong> El patrón State se utiliza para representar diferentes estados de un objeto y controlar su comportamiento en función de su estado actual. En conjunto, estos patrones pueden proporcionar una forma flexible y eficiente de gestionar el estado y el comportamiento de un objeto en un sistema.</p></li></ul><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relación-con-principios-de-diseño">Relación con principios de diseño<a href="#relación-con-principios-de-diseño" class="hash-link" aria-label="Enlace directo al Relación con principios de diseño" title="Enlace directo al Relación con principios de diseño">​</a></h2><ul><li><p><strong>Principio de Responsabilidad Única:</strong> El patrón separa la responsabilidad de almacenar los estados de la clase Originator y se la delega a la clase Memento, que es responsable únicamente de encapsular el estado y no debe tener ninguna lógica adicional. Gracias a esto se sigue este principios de SOLID, pues se evita que la clase Originator tenga más responsabilidades de las necesarias.</p></li><li><p><strong>Programación Orientada a Objetos:</strong> Este patrón busca mantener la encapsulación de los datos de los objetos Memento, con el fin de evitar que clases externas puedan ingresar a la información del Memento. Este objeto puede ser almacenado en otras clases pero su información solo puede ser ingresada por la clase Originator.</p></li><li><p><strong>KISS:</strong> El patrón Memento no vuelve el sistema más simple por si mismo, pero una correcta implementación puede crear una lógica y código más simple y sencilla de comprender.</p></li><li><p><strong>DRY:</strong> El patrón Memento, al igual que el principio KISS, no aborda directamente la duplicidad de código, pero su implementación adecuada puede prevenir la duplicación en la gestión de estados al centralizar la interfaz de guardado y recuperación de estados del sistema. Esto permite una gestión eficiente y coherente del estado sin repetir lógica en múltiples partes del código.</p></li></ul><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="referencias">Referencias<a href="#referencias" class="hash-link" aria-label="Enlace directo al Referencias" title="Enlace directo al Referencias">​</a></h2><p>Haythornwaite, C. (2002). Gamma, E., Helm, R., Johnson, R. &amp; Vlissides, J. Design Patterns: Elements of Reusable Object Oriented Software. New York: Addison-Wesley, 1995. ADDISON-WESLEY.</p><p>Savoir, L.A. (2007) Pattern design. Beverly, MA: Rockport Publishers.</p><p>Smith, J.M. (2012) Elemental Design Patterns. Upper Saddle River, NJ: Addison-Wesley.</p><p><a href="#tabla-de-contenidos">Volver al índice</a></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="anexo">Anexo<a href="#anexo" class="hash-link" aria-label="Enlace directo al Anexo" title="Enlace directo al Anexo">​</a></h2><p>Si desea ver la presentación asociada a este patrón vea: <a target="_blank" href="/software-design/assets/files/PatrónMementoPresentación-ce94ed207e9ac8ba7c9ed7461e4a3f97.pdf">Presentación Patrón Memento</a></p><p><a href="#tabla-de-contenidos">Volver al índice</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/5.patterns/comportamiento/Memento/Readme.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/software-design/docs/patterns/comportamiento/"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Introducción</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/software-design/docs/patterns/comportamiento/ObserverPattern/"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">**Investigación del patrón de diseño Observer**</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tabla-de-contenidos" class="table-of-contents__link toc-highlight">Tabla de Contenidos</a></li><li><a href="#problema" class="table-of-contents__link toc-highlight">Problema</a></li><li><a href="#solución" class="table-of-contents__link toc-highlight">Solución</a></li><li><a href="#ejemplo-de-código" class="table-of-contents__link toc-highlight">Ejemplo de código</a></li><li><a href="#consecuencias" class="table-of-contents__link toc-highlight">Consecuencias</a></li><li><a href="#implementación" class="table-of-contents__link toc-highlight">Implementación</a></li><li><a href="#relación-con-otros-patrones" class="table-of-contents__link toc-highlight">Relación con otros patrones</a></li><li><a href="#relación-con-principios-de-diseño" class="table-of-contents__link toc-highlight">Relación con principios de diseño</a></li><li><a href="#referencias" class="table-of-contents__link toc-highlight">Referencias</a></li><li><a href="#anexo" class="table-of-contents__link toc-highlight">Anexo</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023, Sivana Hamer. This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>. Built with Docusaurus.</div></div></div></footer></div>
<script src="/software-design/assets/js/runtime~main.8d95c78f.js"></script>
<script src="/software-design/assets/js/main.187daf73.js"></script>
</body>
</html>